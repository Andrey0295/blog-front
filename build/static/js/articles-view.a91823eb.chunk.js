(this["webpackJsonpblog-front"]=this["webpackJsonpblog-front"]||[]).push([[1],{119:function(t,e,n){"use strict";var r=n(19),a=n.n(r),c=n(5);a.a.defaults.baseURL="https://infinite-escarpment-83664.herokuapp.com";e.a={addArticle:function(t){var e=t.title,n=t.body;return function(t){var r={title:e,body:n};t(c.a.addArticlesRequest()),a.a.post("/articles",r).then((function(e){var n=e.data;return t(c.a.addArticlesSuccess(n))})).catch((function(e){var n=e.message;return t(c.a.addArticlesError(n))}))}},editArticle:function(t){var e=t.articleId,n=t.title,r=t.body;return function(t){var i={title:n,body:r};t(c.a.editArticlesRequest()),a.a.put("/articles/".concat(e),i).then((function(e){var n=e.data;t(c.a.editArticlesSuccess(n))})).catch((function(e){return t(c.a.editArticlesError(e))}))}},fetchArticles:function(){return function(t){t(c.a.fetchArticlesRequest),a.a.get("/articles").then((function(e){var n=e.data;return t(c.a.fetchArticlesSuccess(n))})).catch((function(e){var n=e.message;return t(c.a.fetchArticlesError(n))}))}},fetchMyArticles:function(){return function(t){t(c.a.fetchMyArticlesRequest),a.a.get("/my-articles").then((function(e){var n=e.data;return t(c.a.fetchMyArticlesSuccess(n))})).catch((function(e){var n=e.message;return t(c.a.fetchMyArticlesError(n))}))}},deleteArticle:function(t){return function(e){e(c.a.deleteArticlesRequest()),a.a.delete("/articles/".concat(t)).then((function(){return e(c.a.deleteArticlesSuccess(t))})).catch((function(t){var n=t.message;return e(c.a.deleteArticlesError(n))}))}}}},121:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(39);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,a=!1,c=void 0;try{for(var i,l=t[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(o){a=!0,c=o}finally{try{r||null==l.return||l.return()}finally{if(a)throw c}}return n}}(t,e)||Object(r.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},132:function(t,e,n){"use strict";var r=n(20),a=n(21),c=n(22),i=n(23),l=n(0),o=n(143),s=n.n(o),u=n(1),d=function(t){Object(c.a)(n,t);var e=Object(i.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(t=e.call.apply(e,[this].concat(c))).handleKeyDown=function(e){var n=t.props.onClose;"Escape"===e.code&&n()},t.handleBackdropClick=function(e){var n=t.props.onClose;e.currentTarget===e.target&&n()},t}return Object(a.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var t=this.props.children;return Object(u.jsx)("div",{className:s.a.Overlay,onClick:this.handleBackdropClick,children:Object(u.jsx)("div",{className:s.a.Modal,children:t})})}}]),n}(l.Component);e.a=d},143:function(t,e,n){t.exports={Overlay:"Overlay_Overlay__14FeO",Modal:"Overlay_Modal__2Fvj8"}},144:function(t,e,n){"use strict";var r=n(0),a=n(9),c=n(38),i=n(119),l=n(121),o=n(132),s=n(2),u=n(20),d=n(21),b=n(22),f=n(23),h=n(41),m=n.n(h),j=n(1),v=function(t){Object(b.a)(n,t);var e=Object(f.a)(n);function n(){var t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={title:"",body:""},t.titleInputId=m.a.generate(),t.bodyInputId=m.a.generate(),t.onInputChange=function(e){var n=e.currentTarget,r=n.name,a=n.value;t.setState(Object(s.a)({},r,a))},t.onFormSubmit=function(e){var n=t.state,r=n.title,a=n.body,c=t.props,i=c.allArticles,l=c.articleId,o=c.onSubmit,s=c.onCloseAfterSubmit;e.preventDefault();var u={title:r,body:a,articleId:l};i.filter((function(t){return t.title===r})).length>0?alert("".concat(r," is already in articles-list")):o(u),t.setState({title:"",body:""}),s()},t}return Object(d.a)(n,[{key:"render",value:function(){var t=this.state,e=t.title,n=t.body;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("form",{className:"d-flex flex-column justify-content-center w-75 m-4",onSubmit:this.onFormSubmit,children:[Object(j.jsx)("div",{className:"form-outline flex-fill",children:Object(j.jsx)("label",{htmlFor:this.titleInputId,className:"form-label w-100",children:Object(j.jsx)("input",{required:!0,id:this.titleInputId,label:"Title",type:"text",name:"title",value:e,onChange:this.onInputChange,className:"form-control border-dark",placeholder:"Title"})})}),Object(j.jsx)("div",{className:"form-outline flex-fill",children:Object(j.jsx)("label",{htmlFor:this.bodyInputId,className:"form-label w-100",children:Object(j.jsx)("textarea",{required:!0,rows:"10",id:this.bodyInputId,label:"Body",color:"secondary",type:"text",name:"body",value:n,onChange:this.onInputChange,className:"form-control border-dark",placeholder:"Body"})})}),Object(j.jsx)("button",{type:"submit",className:"btn btn-success btn-block",children:"Save changes"})]})})}}]),n}(r.Component),p=Object(a.b)((function(t){return{allArticles:c.a.getAllArticles(t)}}),(function(t){return{onSubmit:function(e){return t(i.a.editArticle(e))}}}))(v),y=function(t){var e=t.title,n=t.body,a=t.onDelete,c=t.articleId,i=t.isAuthor,s=void 0!==i&&i,u=t.idx,d=Object(r.useState)(!1),b=Object(l.a)(d,2),f=b[0],h=b[1],m=function(){h(!f)};return Object(j.jsxs)("li",{className:"list-group-item d-flex w-100 justify-content-center border-0 col-lg-12 col-md-12 mb-4",children:[Object(j.jsxs)("div",{className:"card shadow-lg w-75 p-3 mb-5 bg-white rounded",children:[Object(j.jsxs)("div",{className:"bg-image hover-overlay ripple","data-mdb-ripple-color":"light",children:[u%2===0?Object(j.jsx)("img",{src:"https://mdbootstrap.com/img/new/standard/nature/111.jpg",className:"img-fluid w-100",alt:"article preview"}):Object(j.jsx)("img",{src:"https://mdbootstrap.com/img/new/standard/nature/023.jpg",className:"img-fluid w-100",alt:"article preview"}),Object(j.jsx)("div",{className:"mask",style:{backgroundColor:"rgba(251, 251, 251, 0.15)"}})]}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h5",{className:"card-title",children:e}),Object(j.jsx)("p",{className:"card-text",children:n}),Object(j.jsxs)("div",{className:"d-flex justify-content-center",children:[s&&Object(j.jsx)("button",{className:"btn btn-secondary m-1",onClick:m,children:"Edit"}),s&&Object(j.jsx)("button",{className:"btn btn-danger m-1",type:"button",onClick:function(){return a(c)},children:"Delete"})]})]})]}),f&&Object(j.jsx)(o.a,{onClose:m,children:Object(j.jsx)(p,{articleId:c,onCloseAfterSubmit:m})})]})};e.a=Object(a.b)((function(t){return{articlesData:c.a.getVisibleArticles(t)}}),(function(t){return{onDelete:function(e){return t(i.a.deleteArticle(e))}}}))((function(t){var e=t.articlesData,n=t.onDelete,r=(t.onEdit,t.isAuthor);return Object(j.jsx)("ul",{className:"mb-0 row list-group",children:e.map((function(t,e){var a=t.title,c=t.id,i=t.body;return Object(j.jsx)(y,{title:a,body:i,articleId:c,onDelete:n,isAuthor:r,idx:e},c)}))})}))},280:function(t,e,n){"use strict";n.r(e);var r=n(20),a=n(21),c=n(22),i=n(23),l=n(0),o=n(9),s=n(119),u=n(144),d=n(1),b=function(t){Object(c.a)(n,t);var e=Object(i.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.fetchArticles)()}},{key:"render",value:function(){return Object(d.jsx)("div",{children:Object(d.jsx)("div",{children:Object(d.jsx)(u.a,{isAuthor:!1})})})}}]),n}(l.Component);e.default=Object(o.b)(null,(function(t){return{fetchArticles:function(){return t(s.a.fetchArticles())}}}))(b)}}]);
//# sourceMappingURL=articles-view.a91823eb.chunk.js.map